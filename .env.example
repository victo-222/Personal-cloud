# PersonalCloud Environment Configuration Example
# Copy this to .env.local and fill in your actual values
# IMPORTANT: .env.local is in .gitignore - never commit secrets!

# ============================================================================
# SECURITY & SERVER CONFIGURATION
# ============================================================================

# Allowed origins for CORS (comma-separated)
# CRITICAL: Set to your actual domain in production
ALLOWED_ORIGINS=http://localhost:8080

# Development or production mode
NODE_ENV=development

# Dev proxy port
DEV_PROXY_PORT=3001

# ============================================================================
# LLM PROVIDER API KEYS (Choose at least one)
# ============================================================================

# OpenAI API Key - https://platform.openai.com/api-keys
# Format: sk-xxxxxxxxxxxxx
OPENAI_API_KEY=sk-

# OpenAI Model (optional, defaults to gpt-4o-mini)
OPENAI_MODEL=gpt-4o-mini

# Groq API Key - https://console.groq.com/
GROQ_API_KEY=gsk-

# Google Gemini API Key - https://ai.google.dev/
GEMINI_API_KEY=

# Deepseek API Key - https://platform.deepseek.com/
DEEPSEEK_API_KEY=

# Default AI Provider (openai, groq, gemini, deepseek)
AI_PROVIDER=openai

# ============================================================================
# EMAIL CONFIGURATION (For contact form)
# Choose one of: SendGrid, SMTP, or Sendmail
# ============================================================================

# Contact form recipient email
CONTACT_RECIPIENT=your-email@example.com

# OPTION 1: SendGrid (Recommended for production)
SENDGRID_API_KEY=SG.
SENDGRID_FROM=noreply@yourdomain.com

# OPTION 2: SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=app-specific-password
SMTP_FROM=PersonalCloud <noreply@yourdomain.com>
SMTP_SECURE=false

# OPTION 3: Sendmail (Linux/Unix only)
SMTP_SENDMAIL=false
SENDMAIL_PATH=/usr/sbin/sendmail

# ============================================================================
# SUPABASE CONFIGURATION (For authentication & backend)
# ============================================================================

# Supabase Project URL
VITE_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anon Public Key (safe to expose in frontend code)
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (KEEP SECRET - backend only)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# OPTIONAL: Advanced Configuration
# ============================================================================

# Custom OpenAI API URL (for proxy services)
OPENAI_API_URL=https://api.openai.com/v1/chat/completions

# Request timeout in milliseconds (default: 30000)
REQUEST_TIMEOUT=30000

# Max request body size (default: 1mb)
MAX_REQUEST_SIZE=1mb

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW=60000

# Rate limit max requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. NEVER commit this file to git - use .env.local instead
#    .env.local is automatically in .gitignore

# 2. PRODUCTION DEPLOYMENT CHECKLIST:
#    - Set NODE_ENV=production
#    - Configure ALLOWED_ORIGINS to your actual domain (no http://localhost)
#    - Enable HTTPS only (use HTTPS_REDIRECT middleware)
#    - Set up secrets management (AWS Secrets, Vault, etc.)
#    - Rotate API keys regularly
#    - Enable WAF (Web Application Firewall)
#    - Set up DDoS protection (Cloudflare, AWS Shield)
#    - Monitor security logs

# 3. API KEY SECURITY:
#    - Use service-specific API keys with minimal permissions
#    - Never share API keys
#    - Rotate keys if compromised
#    - Use separate keys for dev/staging/production
#    - Keep keys in .env.local (not in repo)

# 4. EMAIL CONFIGURATION:
#    For Gmail: Use an App-Specific Password, not your main password
#    For SendGrid: Create a new API key with minimal permissions
#    For SMTP: Verify TLS/SSL certificate validity

# 5. CORS SECURITY:
#    ALLOWED_ORIGINS controls which websites can make API requests
#    Development: http://localhost:8080 (for Vite dev server)
#    Production: https://yourdomain.com (must be HTTPS)
#    Multiple domains: https://domain1.com,https://domain2.com

# 6. SUPABASE:
#    - Enable Row Level Security (RLS) on all tables
#    - Never expose SERVICE_ROLE_KEY in frontend code
#    - ANON_KEY is safe to expose (public)
#    - Enable email verification
#    - Configure password requirements
#    - Enable MFA for admin accounts

# See README.md for more configuration details
# See SECURITY.md for comprehensive security guide
